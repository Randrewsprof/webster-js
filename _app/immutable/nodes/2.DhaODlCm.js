import"../chunks/DsnmJJEf.js";import{i as ue}from"../chunks/BYaVFD5D.js";import{a as me,l as pe,c as be,s as Y,e as q,o as Ee}from"../chunks/xF5gze7N.js";import{a6 as ie,al as we,Z as J,a8 as I,T as Ae,_ as xe,b as w,e as Ce,am as Te,an as ke,ao as se,Y as K,$ as G,U as Ie,a0 as Me,a7 as ae,ap as Se,aq as O,ar as Ne,as as R,at as le,a4 as fe,Q as $e,au as Le,av as ce,aw as De,ax as He,ay as Oe,az as Q,aA as ve,W as Re,aB as We,a3 as Ge,aC as Pe,k as Ue,aD as Be,aE as Ve,aF as Fe,aG as Ye,u as qe,aH as ze,aI as Je,A as de,B as U,F as W,G as M,C as z,a as P,E as _e,H as $,f as Ke,i as T,aJ as Qe}from"../chunks/C5tfC3V_.js";import{p as X}from"../chunks/-d9_RQqk.js";function V(e,r){return r}function Xe(e,r,a){for(var l=e.items,s=[],t=r.length,n=0;n<t;n++)We(r[n].e,s,!0);var u=t>0&&s.length===0&&a!==null;if(u){var i=a.parentNode;Ge(i),i.append(a),l.clear(),S(e,r[0].prev,r[t-1].next)}Pe(s,()=>{for(var m=0;m<t;m++){var b=r[m];u||(l.delete(b.k),S(e,b.prev,b.next)),ve(b.e,!u)}})}function F(e,r,a,l,s,t=null){var n=e,u={flags:r,items:new Map,first:null};{var i=e;n=I?J(Ae(i)):i.appendChild(ie())}I&&xe();var m=null,b=!1,x=new Map,o=Ce(()=>{var _=a();return $e(_)?_:_==null?[]:fe(_)}),v,f;function c(){Ze(f,v,u,x,n,s,r,l,a),t!==null&&(v.length===0?m?ce(m):m=ae(()=>t(n)):m!==null&&De(m,()=>{m=null}))}we(()=>{f??=Ue,v=w(o);var _=v.length;if(b&&_===0)return;b=_===0;let k=!1;if(I){var C=Te(n)===ke;C!==(_===0)&&(n=se(),J(n),K(!1),k=!0)}if(I){for(var h=null,A,y=0;y<_;y++){if(G.nodeType===Ie&&G.data===Me){n=G,k=!0,K(!1);break}var d=v[y],g=l(d,y);A=re(G,u,h,null,d,g,y,s,r,a),u.items.set(g,A),h=A}_>0&&J(se())}if(I)_===0&&t&&(m=ae(()=>t(n)));else if(Se()){var E=new Set,p=O;for(y=0;y<_;y+=1){d=v[y],g=l(d,y);var N=u.items.get(g)??x.get(g);N?he(N,d,y):(A=re(null,u,null,null,d,g,y,s,r,a,!0),x.set(g,A)),E.add(g)}for(const[L,D]of u.items)E.has(L)||p.skipped_effects.add(D.e);p.add_callback(c)}else c();k&&K(!0),w(o)}),I&&(n=G)}function Ze(e,r,a,l,s,t,n,u,i){var m=r.length,b=a.items,x=a.first,o=x,v,f=null,c=[],_=[],k,C,h,A;for(A=0;A<m;A+=1){if(k=r[A],C=u(k,A),h=b.get(C),h===void 0){var y=l.get(C);if(y!==void 0){l.delete(C),b.set(C,y);var d=f?f.next:o;S(a,f,y),S(a,y,d),Z(y,d,s),f=y}else{var g=o?o.e.nodes_start:s;f=re(g,a,f,f===null?a.first:f.next,k,C,A,t,n,i)}b.set(C,f),c=[],_=[],o=f.next;continue}if(he(h,k,A),(h.e.f&Q)!==0&&ce(h.e),h!==o){if(v!==void 0&&v.has(h)){if(c.length<_.length){var E=_[0],p;f=E.prev;var N=c[0],L=c[c.length-1];for(p=0;p<c.length;p+=1)Z(c[p],E,s);for(p=0;p<_.length;p+=1)v.delete(_[p]);S(a,N.prev,L.next),S(a,f,N),S(a,L,E),o=E,f=L,A-=1,c=[],_=[]}else v.delete(h),Z(h,o,s),S(a,h.prev,h.next),S(a,h,f===null?a.first:f.next),S(a,f,h),f=h;continue}for(c=[],_=[];o!==null&&o.k!==C;)(o.e.f&Q)===0&&(v??=new Set).add(o),_.push(o),o=o.next;if(o===null)continue;h=o}c.push(h),f=h,o=h.next}if(o!==null||v!==void 0){for(var D=v===void 0?[]:fe(v);o!==null;)(o.e.f&Q)===0&&D.push(o),o=o.next;var B=D.length;if(B>0){var te=m===0?s:null;Xe(a,D,te)}}e.first=a.first&&a.first.e,e.last=f&&f.e;for(var H of l.values())ve(H.e);l.clear()}function he(e,r,a,l){Ne(e.v,r),e.i=a}function re(e,r,a,l,s,t,n,u,i,m,b){var x=(i&He)!==0,o=(i&Oe)===0,v=x?o?R(s,!1,!1):le(s):s,f=(i&Le)===0?n:le(n),c={i:f,v,k:t,a:null,e:null,prev:a,next:l};try{if(e===null){var _=document.createDocumentFragment();_.append(e=ie())}return c.e=ae(()=>u(e,v,f,m),I),c.e.prev=a&&a.e,c.e.next=l&&l.e,a===null?b||(r.first=c):(a.next=c,a.e.next=c.e),l!==null&&(l.prev=c,l.e.prev=c.e),c}finally{}}function Z(e,r,a){for(var l=e.next?e.next.e.nodes_start:a,s=r?r.e.nodes_start:a,t=e.e.nodes_start;t!==null&&t!==l;){var n=Re(t);s.before(t),t=n}}function S(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function je(e,r){return e==null?null:String(e)}function ge(e,r,a,l){var s=e.__style;if(I||s!==r){var t=je(r);(!I||t!==e.getAttribute("style"))&&(t==null?e.removeAttribute("style"):e.style.cssText=t),e.__style=r}return l}const ea=Symbol("is custom element"),aa=Symbol("is html");function ra(e){if(I){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var l=e.value;ne(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var s=e.checked;ne(e,"checked",null),e.checked=s}}};e.__on_r=a,Be(a),me()}}function ne(e,r,a,l){var s=ta(e);I&&(s[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||s[r]!==(s[r]=a)&&(r==="loading"&&(e[Ve]=a),e.removeAttribute(r))}function ta(e){return e.__attributes??={[ea]:e.nodeName.includes("-"),[aa]:e.namespaceURI===Fe}}function sa(e,r,a=r){var l=Ye(),s=new WeakSet;pe(e,"input",t=>{var n=t?e.defaultValue:e.value;if(n=j(e)?ee(n):n,a(n),O!==null&&s.add(O),l&&n!==(n=r())){var u=e.selectionStart,i=e.selectionEnd;e.value=n??"",i!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(i,e.value.length))}}),(I&&e.defaultValue!==e.value||qe(r)==null&&e.value)&&(a(j(e)?ee(e.value):e.value),O!==null&&s.add(O)),ze(()=>{var t=r();if(e===document.activeElement){var n=Je??O;if(s.has(n))return}j(e)&&t===ee(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function j(e){var r=e.type;return r==="number"||r==="range"}function ee(e){return e===""?null:+e}let oe=null;async function la(){return oe=(await(await fetch("/words.txt")).text()).split(`
`).map(a=>a.trim()).filter(a=>a.length===5).map(a=>a.toUpperCase()),oe}function na(e,r,a){const l=Array.isArray(r)?r:r.split("");return console.log("Starting filter with",e.length,"words"),e.filter(s=>{const t=s.split("");return l.every((u,i)=>{switch(a[i]){case"green":const b=t[i]===u;return b||console.log(`${s} failed green check: position ${i} should be ${u}, got ${t[i]}`),b;case"yellow":const x=t.includes(u)&&t[i]!==u;return x||console.log(`${s} failed yellow check: should contain ${u} but not at position ${i}`),x;case"gray":const o=l.some((f,c)=>f===u&&["green","yellow"].includes(a[c])&&c!==i);let v;return o?(v=t[i]!==u,v||console.log(`${s} failed gray check: ${u} shouldn't be at position ${i}`)):(v=!t.includes(u),v||console.log(`${s} failed gray check: shouldn't contain ${u} at all`)),v;default:return!0}})})}var oa=U("<button> </button>");function ua(e,r){de(r,!1);let a=X(r,"letter",8,""),l=X(r,"color",8,"gray"),s=X(r,"onChange",8,()=>{});const t=["gray","yellow","green"],n=be();function u(){const x=(t.indexOf(l())+1)%t.length,o=t[x];s()(o),n("change",o)}ue();var i=oa(),m=W(i,!0);M(i),z(()=>{ge(i,`
    width: 2em;
    height: 2em;
    text-transform: uppercase;
    background-color: ${l()==="gray"?"#787c7e":l()==="yellow"?"#c9b458":"#6aaa64"};
    color: white;
    border: 1px solid black;
    cursor: pointer;
  `),Y(m,a())}),q("click",i,u),P(e,i),_e()}var ia=U("<span> </span>"),fa=U("<li></li>"),ca=U("<li> </li>"),va=U('<h2>Webster</h2> <div style="display: flex; gap: 0.5em;"><input type="text" maxlength="5" style="width: 10em; text-transform: uppercase;" placeholder="Enter guess"/></div> <div style="display: flex; gap: 0.5em; margin-top: 1em; margin-bottom: 1em;"></div> <button>Add Guess</button> <button style="margin-left: 0.5em;">Reset</button> <div style="margin-top: 1em;"><h3>Past Guesses:</h3> <ul></ul></div> <h3> </h3> <ul></ul>',1);function ma(e,r){de(r,!1);let a=[],l=R([]),s=R(["","","","",""]),t=R(["gray","gray","gray","gray","gray"]),n=R([]),u=R("");Ee(async()=>{a=await la(),T(l,a)});function i(){T(n,[...w(n),{guess:[...w(s)],colors:[...w(t)]}]),T(l,w(n).reduce((d,{guess:g,colors:E})=>na(d,g,E),a)),T(s,["","","","",""]),T(t,["gray","gray","gray","gray","gray"]),T(u,"")}function m(d,g){Qe(t,w(t)[d]=g)}function b(){T(s,["","","","",""]),T(t,["gray","gray","gray","gray","gray"]),T(n,[]),T(l,a),T(u,"")}ue();var x=va(),o=$(Ke(x),2),v=W(o);ra(v),M(o);var f=$(o,2);F(f,5,()=>w(s),V,(d,g,E)=>{ua(d,{get letter(){return w(g)},get color(){return w(t)[E]},onChange:p=>m(E,p)})}),M(f);var c=$(f,2),_=$(c,2),k=$(_,2),C=$(W(k),2);F(C,5,()=>w(n),V,(d,g)=>{let E=()=>w(g).guess,p=()=>w(g).colors;var N=fa();F(N,5,E,V,(L,D,B,te)=>{var H=ia(),ye=W(H,!0);M(H),z(()=>{ge(H,`background-color: ${p()[B]==="gray"?"#e8e8e8":p()[B]==="yellow"?"#c9b458":"#6aaa64"};`),Y(ye,w(D))}),P(L,H)}),M(N),P(d,N)}),M(C),M(k);var h=$(k,2),A=W(h);M(h);var y=$(h,2);F(y,5,()=>w(l),V,(d,g)=>{var E=ca(),p=W(E,!0);M(E),z(()=>Y(p,w(g))),P(d,E)}),M(y),z(d=>{c.disabled=d,Y(A,`Possible Words: ${w(l).length??""}`)},[()=>w(s).some(d=>d==="")]),sa(v,()=>w(u),d=>T(u,d)),q("input",v,d=>{const g=d.target.value.toUpperCase().slice(0,5);T(s,Array.from({length:5},(E,p)=>g[p]||""))}),q("click",c,i),q("click",_,b),P(e,x),_e()}export{ma as component};
